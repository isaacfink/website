---
import { getCollection } from "astro:content";
import BaseLayout from "../../../layouts/BaseLayout.astro";

const posts = (await getCollection("python-orm")).sort(
  (a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);
---

<BaseLayout>
  <section class="bg-white py-24 sm:py-32 section-container">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mx-auto max-w-2xl">
        <h2 class="text-3xl font-bold tracking-tight text-zinc-200 sm:text-4xl">
          Build a Python ORM from scratch
        </h2>
        <p class="mt-2 text-lg leading-8 text-zinc-400">
          Let's build a Python ORM ffrom scratch, learn how ORMs work under the
          hood and explore advanced Python techniques.
        </p>
        <div
          class="mt-10 space-y-16 border-t border-zinc-600 pt-10 sm:mt-16 sm:pt-16"
        >
          {
            posts.map((post, index) => {
              return (
                <a
                  href={`/blog/python-orm/${post.slug}`}
                  class="flex max-w-xl flex-col items-start justify-between group hover:bg-primary-950 rounded-lg transition-colors p-5"
                >
                  <div class="group relative">
                    <div class="relative mb-3 h-24">
                      <span class="p-1 rounded-full flex justify-center items-center bg-zinc-700 h-12 w-12 bottom-0 left-0 text-3xl text-zinc-300 absolute opacity-10">
                        {index}
                      </span>
                      <h3 class="text-lg font-semibold leading-6 text-zinc-300 group-hover:text-zinc-200 absolute left-5 bottom-1">
                        <span class="absolute inset-0" />
                        {post.data.title}
                      </h3>
                    </div>
                    <p class="mt-5 line-clamp-3 text-sm leading-6 text-zinc-400">
                      {post.data.description}
                    </p>
                  </div>
                </a>
              );
            })
          }
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
